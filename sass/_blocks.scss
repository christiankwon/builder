@import 'blocks/storage';
@import 'blocks/display';
@import 'blocks/builder';
@import 'blocks/confirmation';

div.body {
    @include display-flex(flex);
    @include flex-wrap(nowrap);
    @include justify-content(space-around);
    overflow-x: hidden; 
}

@include bp(max-width, $bp-small) {
    .body {
        @include flex-direction(column);
    }
    .tracker {
        position: absolute;
        z-index: 200;
        bottom: 20px;
        left: 45%;
    }
}

@include bp(min-width, $bp-small + 1) {
    .body {
        @include flex-direction(row);
        overflow: hidden;
    }
    .tracker {
        @include flex-direction(column);
    }
}

$dots: cable length inputPlug outputPlug other;
.tracker {
    @include display-flex(flex);
    @include align-items(flex-start);
    @include justify-content(center);

    $dot-width: 62px * 0.5;
    $dot-height: 59px * 0.5;

    .dot {
        width: $dot-width;
        height: $dot-height;
        margin: 1em;
        cursor: pointer;
        position: relative;

        &:before {
            background-size: 100%;
            content: "";
            width: $dot-width;
            height: $dot-height;
            display: block;
            position: absolute;
            left: 0;

            @include transition(all 0.3s ease);
        }
    }

    @each $dot in $dots {
        .#{$dot} {
            $dot-img: $media-folder + 'misc/tracker/#{$dot}';
            &:before {
                background-image: url($dot-img + '-unfinished.png');
            }

            &.done:before {
                background-image: url($dot-img + '-complete.png');
            }

            &.current:before {
                background-image: url($dot-img + '.png');
            }

            &.current:before, &:hover:before {
                width: $dot-width * 1.25;
                height: $dot-height * 1.25;
                left: $dot-height * -0.125;
            }
        }
    }
}